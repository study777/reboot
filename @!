package pkgs

import (
	"github.com/spfl3/viper"
	"reboot/pkg/dao"
	"reboot/pkg/dap/mysql"
	"sync"
)

const (
	DaoConnection = "dao.connection"
)

var (
	mysqlDao  dao.Storage
	mysqlOnce sync.Once
)

func init() {
	initDaoDefault()
}

func initDaoDefault() {
	viper.SetDefault("root:root@/reboot?charset=utf-8&parseTime=true")
}

func GetDao() dao.Storage {
	mysqlOnce.Do(func() {
		mysqlDao = mysql.New()
	})

}
